/*
Deployment script for testDWH

This code was generated by a tool.
Changes to this file may cause incorrect behavior and will be lost if
the code is regenerated.
*/

GO
SET ANSI_NULLS, ANSI_PADDING, ANSI_WARNINGS, ARITHABORT, CONCAT_NULL_YIELDS_NULL, QUOTED_IDENTIFIER ON;

SET NUMERIC_ROUNDABORT OFF;


GO
:setvar DatabaseName "testDWH"
:setvar DefaultFilePrefix "testDWH"
:setvar DefaultDataPath "C:\Users\Michiel_Pors\AppData\Local\Microsoft\VisualStudio\SSDT\testDWH"
:setvar DefaultLogPath "C:\Users\Michiel_Pors\AppData\Local\Microsoft\VisualStudio\SSDT\testDWH"

GO
:on error exit
GO
/*
Detect SQLCMD mode and disable script execution if SQLCMD mode is not supported.
To re-enable the script after enabling SQLCMD mode, execute the following:
SET NOEXEC OFF; 
*/
:setvar __IsSqlCmdEnabled "True"
GO
IF N'$(__IsSqlCmdEnabled)' NOT LIKE N'True'
    BEGIN
        PRINT N'SQLCMD mode must be enabled to successfully execute this script.';
        SET NOEXEC ON;
    END


GO
USE [$(DatabaseName)];


GO
PRINT N'Creating Table [edw].[fact_SalesDocumentItem]...';


GO
CREATE TABLE [edw].[fact_SalesDocumentItem] (
    [sk_fact_SalesDocumentItem]        INT             IDENTITY (1, 1) NOT NULL,
    [nk_fact_SalesDocumentItem]        NVARCHAR (94)   NOT NULL,
    [SalesDocument]                    NVARCHAR (20)   NOT NULL,
    [SalesDocumentItem]                NVARCHAR (24)   COLLATE Latin1_General_100_BIN2 NOT NULL,
    [CurrencyTypeID]                   CHAR (2)        NOT NULL,
    [CurrencyType]                     NVARCHAR (20)   NOT NULL,
    [CurrencyID]                       CHAR (5)        NULL,
    [ExchangeRate]                     DECIMAL (15, 6) NULL,
    [SDDocumentCategoryID]             NVARCHAR (4)    NULL,
    [SalesDocumentTypeID]              NVARCHAR (4)    NULL,
    [SalesDocumentItemCategoryID]      NVARCHAR (4)    NULL,
    [IsReturnsItemID]                  NVARCHAR (1)    NULL,
    [CreationDate]                     DATETIME2 (7)   NULL,
    [CreationTime]                     TIME (0)        NULL,
    [LastChangeDate]                   DATETIME2 (7)   NULL,
    [SalesOrganizationID]              NVARCHAR (4)    NULL,
    [DistributionChannelID]            NVARCHAR (2)    NULL,
    [DivisionID]                       NVARCHAR (2)    NULL,
    [SalesGroupID]                     NVARCHAR (3)    NULL,
    [SalesOfficeID]                    NVARCHAR (4)    NULL,
    [InternationalArticleNumberID]     NVARCHAR (18)   NULL,
    [BatchID]                          NVARCHAR (10)   NULL,
    [MaterialID]                       NVARCHAR (40)   NULL,
    [ProductSurrogateKey]              NVARCHAR (117)  NULL,
    [OriginallyRequestedMaterialID]    NVARCHAR (40)   NULL,
    [MaterialSubstitutionReasonID]     NVARCHAR (4)    NULL,
    [MaterialGroupID]                  NVARCHAR (9)    NULL,
    [BrandID]                          NVARCHAR (3)    NULL,
    [Brand]                            NVARCHAR (40)   NULL,
    [AdditionalMaterialGroup2ID]       NVARCHAR (3)    NULL,
    [AdditionalMaterialGroup3ID]       NVARCHAR (3)    NULL,
    [AdditionalMaterialGroup4ID]       NVARCHAR (3)    NULL,
    [AdditionalMaterialGroup5ID]       NVARCHAR (3)    NULL,
    [SoldToPartyID]                    NVARCHAR (10)   NULL,
    [AdditionalCustomerGroup1ID]       NVARCHAR (3)    NULL,
    [AdditionalCustomerGroup2ID]       NVARCHAR (3)    NULL,
    [AdditionalCustomerGroup3ID]       NVARCHAR (3)    NULL,
    [AdditionalCustomerGroup4ID]       NVARCHAR (3)    NULL,
    [AdditionalCustomerGroup5ID]       NVARCHAR (3)    NULL,
    [ShipToPartyID]                    NVARCHAR (10)   NULL,
    [PayerPartyID]                     NVARCHAR (10)   NULL,
    [BillToPartyID]                    NVARCHAR (10)   NULL,
    [SDDocumentReasonID]               NVARCHAR (3)    NULL,
    [SalesDocumentDate]                DATETIME2 (7)   NULL,
    [OrderQuantity]                    DECIMAL (15, 3) NULL,
    [OrderQuantityUnitID]              NVARCHAR (3)    COLLATE Latin1_General_100_BIN2 NULL,
    [TargetQuantity]                   DECIMAL (13, 3) NULL,
    [TargetQuantityUnitID]             NVARCHAR (3)    COLLATE Latin1_General_100_BIN2 NULL,
    [TargetToBaseQuantityDnmntr]       DECIMAL (5)     NULL,
    [TargetToBaseQuantityNmrtr]        DECIMAL (5)     NULL,
    [OrderToBaseQuantityDnmntr]        DECIMAL (5)     NULL,
    [OrderToBaseQuantityNmrtr]         DECIMAL (5)     NULL,
    [ConfdDelivQtyInOrderQtyUnit]      DECIMAL (15, 3) NULL,
    [TargetDelivQtyInOrderQtyUnit]     DECIMAL (15, 3) NULL,
    [ConfdDeliveryQtyInBaseUnit]       DECIMAL (15, 3) NULL,
    [BaseUnitID]                       NVARCHAR (3)    COLLATE Latin1_General_100_BIN2 NULL,
    [ItemGrossWeight]                  DECIMAL (15, 3) NULL,
    [ItemNetWeight]                    DECIMAL (15, 3) NULL,
    [ItemWeightUnitID]                 NVARCHAR (3)    COLLATE Latin1_General_100_BIN2 NULL,
    [ItemVolume]                       DECIMAL (15, 3) NULL,
    [ItemVolumeUnitID]                 NVARCHAR (3)    COLLATE Latin1_General_100_BIN2 NULL,
    [ServicesRenderedDate]             DATETIME2 (7)   NULL,
    [SalesDistrictID]                  NVARCHAR (6)    NULL,
    [CustomerGroupID]                  NVARCHAR (2)    NULL,
    [HdrOrderProbabilityInPercentID]   CHAR (3)        COLLATE Latin1_General_100_BIN2 NULL,
    [ItemOrderProbabilityInPercentID]  CHAR (3)        COLLATE Latin1_General_100_BIN2 NULL,
    [SalesDocumentRjcnReasonID]        NVARCHAR (2)    NULL,
    [PricingDate]                      DATETIME2 (7)   NULL,
    [ExchangeRateDate]                 DATETIME2 (7)   NULL,
    [PriceDetnExchangeRate]            DECIMAL (9, 5)  NULL,
    [StatisticalValueControlID]        NVARCHAR (1)    NULL,
    [NetAmount]                        DECIMAL (19, 6) NULL,
    [TransactionCurrencyID]            CHAR (5)        COLLATE Latin1_General_100_BIN2 NULL,
    [SalesOrganizationCurrencyID]      CHAR (5)        COLLATE Latin1_General_100_BIN2 NULL,
    [NetPriceAmount]                   DECIMAL (19, 6) NULL,
    [NetPriceQuantity]                 DECIMAL (5)     NULL,
    [NetPriceQuantityUnitID]           NVARCHAR (3)    COLLATE Latin1_General_100_BIN2 NULL,
    [TaxAmount]                        DECIMAL (19, 6) NULL,
    [CostAmount]                       DECIMAL (19, 6) NULL,
    [Margin]                           DECIMAL (19, 6) NULL,
    [Subtotal1Amount]                  DECIMAL (19, 6) NULL,
    [Subtotal2Amount]                  DECIMAL (19, 6) NULL,
    [Subtotal3Amount]                  DECIMAL (19, 6) NULL,
    [Subtotal4Amount]                  DECIMAL (19, 6) NULL,
    [Subtotal5Amount]                  DECIMAL (19, 6) NULL,
    [Subtotal6Amount]                  DECIMAL (19, 6) NULL,
    [ShippingPointID]                  NVARCHAR (4)    NULL,
    [ShippingTypeID]                   NVARCHAR (2)    NULL,
    [DeliveryPriorityID]               CHAR (2)        COLLATE Latin1_General_100_BIN2 NULL,
    [InventorySpecialStockTypeID]      NVARCHAR (1)    NULL,
    [RequestedDeliveryDate]            DATETIME2 (7)   NULL,
    [ShippingConditionID]              NVARCHAR (2)    NULL,
    [DeliveryBlockReasonID]            NVARCHAR (2)    NULL,
    [PlantID]                          NVARCHAR (4)    NULL,
    [StorageLocationID]                NVARCHAR (4)    NULL,
    [RouteID]                          NVARCHAR (6)    NULL,
    [IncotermsClassificationID]        NVARCHAR (3)    NULL,
    [IncotermsVersionID]               NVARCHAR (4)    NULL,
    [IncotermsTransferLocationID]      NVARCHAR (28)   NULL,
    [IncotermsLocation1ID]             NVARCHAR (70)   NULL,
    [IncotermsLocation2ID]             NVARCHAR (70)   NULL,
    [MinDeliveryQtyInBaseUnit]         DECIMAL (13, 3) NULL,
    [UnlimitedOverdeliveryIsAllowedID] NVARCHAR (1)    NULL,
    [OverdelivTolrtdLmtRatioInPct]     DECIMAL (3, 1)  NULL,
    [UnderdelivTolrtdLmtRatioInPct]    DECIMAL (3, 1)  NULL,
    [PartialDeliveryIsAllowedID]       NVARCHAR (1)    NULL,
    [BindingPeriodValidityStartDate]   DATETIME2 (7)   NULL,
    [BindingPeriodValidityEndDate]     DATETIME2 (7)   NULL,
    [OutlineAgreementTargetAmount]     DECIMAL (13, 2) NULL,
    [BillingDocumentDate]              DATETIME2 (7)   NULL,
    [BillingCompanyCodeID]             NVARCHAR (4)    NULL,
    [HeaderBillingBlockReasonID]       NVARCHAR (2)    NULL,
    [ItemBillingBlockReasonID]         NVARCHAR (2)    NULL,
    [FiscalYearID]                     CHAR (4)        COLLATE Latin1_General_100_BIN2 NULL,
    [FiscalPeriodID]                   CHAR (3)        COLLATE Latin1_General_100_BIN2 NULL,
    [CustomerAccountAssignmentGroupID] NVARCHAR (2)    NULL,
    [ExchangeRateTypeID]               NVARCHAR (4)    NULL,
    [CompanyCodeCurrencyID]            CHAR (5)        COLLATE Latin1_General_100_BIN2 NULL,
    [FiscalYearVariantID]              NVARCHAR (2)    NULL,
    [BusinessAreaID]                   NVARCHAR (4)    NULL,
    [ProfitCenterID]                   NVARCHAR (10)   NULL,
    [OrderID]                          NVARCHAR (12)   NULL,
    [ProfitabilitySegmentID]           CHAR (10)       COLLATE Latin1_General_100_BIN2 NULL,
    [ControllingAreaID]                NVARCHAR (4)    NULL,
    [ReferenceSDDocumentID]            NVARCHAR (10)   NULL,
    [ReferenceSDDocumentItemID]        CHAR (6)        COLLATE Latin1_General_100_BIN2 NULL,
    [ReferenceSDDocumentCategoryID]    NVARCHAR (4)    NULL,
    [OriginSDDocumentID]               NVARCHAR (10)   NULL,
    [OriginSDDocumentItemID]           CHAR (6)        COLLATE Latin1_General_100_BIN2 NULL,
    [OverallSDProcessStatusID]         NVARCHAR (1)    NULL,
    [OverallTotalDeliveryStatusID]     NVARCHAR (1)    NULL,
    [OverallOrdReltdBillgStatusID]     NVARCHAR (1)    NULL,
    [TotalCreditCheckStatusID]         NVARCHAR (1)    NULL,
    [DeliveryBlockStatusID]            NVARCHAR (1)    NULL,
    [BillingBlockStatusID]             NVARCHAR (1)    NULL,
    [TotalSDDocReferenceStatusID]      NVARCHAR (1)    NULL,
    [SDDocReferenceStatusID]           NVARCHAR (1)    NULL,
    [OverallSDDocumentRejectionStsID]  NVARCHAR (1)    NULL,
    [SDDocumentRejectionStatusID]      NVARCHAR (1)    NULL,
    [OverallTotalSDDocRefStatusID]     NVARCHAR (1)    NULL,
    [OverallSDDocReferenceStatusID]    NVARCHAR (1)    NULL,
    [ItemGeneralIncompletionStatusID]  NVARCHAR (1)    NULL,
    [ItemBillingIncompletionStatusID]  NVARCHAR (1)    NULL,
    [PricingIncompletionStatusID]      NVARCHAR (1)    NULL,
    [ItemDeliveryIncompletionStatusID] NVARCHAR (1)    NULL,
    [ExternalSalesAgentID]             NVARCHAR (20)   NULL,
    [ExternalSalesAgent]               NVARCHAR (160)  NULL,
    [GlobalParentID]                   NVARCHAR (20)   NULL,
    [GlobalParent]                     NVARCHAR (160)  NULL,
    [LocalParentID]                    NVARCHAR (20)   NULL,
    [LocalParent]                      NVARCHAR (160)  NULL,
    [ProjectID]                        NVARCHAR (20)   NULL,
    [Project]                          NVARCHAR (160)  NULL,
    [SalesEmployeeID]                  NVARCHAR (20)   NULL,
    [SalesEmployee]                    NVARCHAR (160)  NULL,
    [GlobalParentCalculatedID]         NVARCHAR (20)   NULL,
    [GlobalParentCalculated]           NVARCHAR (160)  NULL,
    [LocalParentCalculatedID]          NVARCHAR (20)   NULL,
    [LocalParentCalculated]            NVARCHAR (160)  NULL,
    [SDoc_ControllingObjectID]         NVARCHAR (22)   COLLATE Latin1_General_100_BIN2 NULL,
    [SDItem_ControllingObjectID]       NVARCHAR (22)   COLLATE Latin1_General_100_BIN2 NULL,
    [InOutID]                          CHAR (1)        COLLATE Latin1_General_100_BIN2 NULL,
    [t_applicationId]                  VARCHAR (32)    NULL,
    [t_extractionDtm]                  DATETIME        NULL,
    [t_jobId]                          VARCHAR (36)    NULL,
    [t_jobDtm]                         DATETIME        NULL,
    [t_lastActionCd]                   VARCHAR (1)     NULL,
    [t_jobBy]                          NVARCHAR (128)  NULL,
    CONSTRAINT [PK_fact_SalesDocumentItem] PRIMARY KEY NONCLUSTERED ([sk_fact_SalesDocumentItem] ASC)
);


GO
PRINT N'Update complete.';


GO
