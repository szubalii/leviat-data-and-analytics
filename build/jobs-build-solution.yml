parameters:
- name: folder
  type: string

jobs:
- job: BUILD_${{ upper(replace(parameters.folder, '-', '_')) }}
  pool:
    name: 'VM'
    demands:
    - node.js
    - VisualStudio
    - Agent.ComputerName -equals $(VMName)
  steps:
  - template: ../${{ parameters.folder }}/build/steps-build.yml
  - template: ../${{ parameters.folder }}/build/steps-artifact.yml