parameters:
- name: solutions
  type: object
  default:
  - name: 'synapse-dwh'
    deploy: True
    test: True
  - name: 'orchestration'
    deploy: True
    test: False
  - name: 'xu-config'
    deploy: True
    test: False
  - name: 'synapse-workspace'
    deploy: True
    test: False
- name: deployEnvPrefix
  type: string


jobs:
- ${{ each solution in parameters.solutions }}:
  - ${{ if eq(solution.deploy, True) }}:
    - template: ./jobs-deploy-solution-helper.yml
      parameters:
        folder: ${{ solution.name }}
        deployEnvPrefix: ${{ parameters.deployEnvPrefix }}
        test: ${{ solution.test }}