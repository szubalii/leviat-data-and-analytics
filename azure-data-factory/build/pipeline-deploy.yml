# This pipeline is triggered whenever the build pipeline to main, qas or prod is completed
name: $(Build.DefinitionName)_$(resources.pipeline.build.sourceBranch)_$(Date:yyyyMMdd).$(Rev:r)

resources:
  pipelines:
  - pipeline: build
    source: 'Build Data Factory'
    trigger:
      branches:
        include:
        - main
        - qas
        - prod
        - feature/*
        - users/*

trigger: none

extends:
  template: ../../build/stages-deploy.yml
  parameters:
    folder: azure-data-factory