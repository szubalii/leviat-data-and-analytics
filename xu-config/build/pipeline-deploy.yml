trigger: none
#   branches:
#     include: 
#     # - deployment-pipeline
#   paths:
#     include: 
    # - xu-config/*

parameters:
- name: env
  type: string
  default: DEV
  values: 
  - DEV
  - QAS
  - PROD

variables:
- name: env
  value: ${{ parameters.env }}
- name: varGroup
  value: DnA_$(env)
- name: keyGroup
  value: KeyVault_$(env)
- group: ${{ variables.varGroup }}
- group: ${{ variables.keyGroup }}

jobs:
- template: ../../build/jobs-pre-build.yml
- template: ./jobs-build.yml
  parameters:
    artifact: true
- template: ./jobs-deploy.yml
  # parameters:
  #   adfPathPrefix: $(System.ArtifactsDirectory)